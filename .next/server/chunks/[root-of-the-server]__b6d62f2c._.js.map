{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/cobyobi/SUNGAZE%20APP/package.json/src/app/api/checkout/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport Stripe from 'stripe';\nimport { founderTracker } from '../../lib/founder-tracker';\n\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY!, {\n  apiVersion: '2025-08-27.basil',\n});\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { priceId, userId, tier } = await request.json();\n\n    if (!priceId) {\n      return NextResponse.json({ error: 'Price ID is required' }, { status: 400 });\n    }\n\n    // Create Stripe Checkout Session\n    const session = await stripe.checkout.sessions.create({\n      mode: tier === 'founder_444' ? 'payment' : 'subscription',\n      payment_method_types: ['card'],\n      line_items: [\n        {\n          price: priceId,\n          quantity: 1,\n        },\n      ],\n      success_url: `${process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'}/?success=true&tier=${tier}`,\n      cancel_url: `${process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'}/?canceled=true`,\n      client_reference_id: userId,\n      metadata: {\n        userId,\n        tier,\n      },\n    });\n\n    return NextResponse.json({ \n      sessionId: session.id,\n      url: session.url \n    });\n\n  } catch (error: any) {\n    console.error('Stripe error:', error);\n    return NextResponse.json(\n      { error: error.message || 'Payment setup failed' },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAGA,MAAM,SAAS,IAAI,sMAAM,CAAC,QAAQ,GAAG,CAAC,iBAAiB,EAAG;IACxD,YAAY;AACd;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEpD,IAAI,CAAC,SAAS;YACZ,OAAO,mLAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAuB,GAAG;gBAAE,QAAQ;YAAI;QAC5E;QAEA,iCAAiC;QACjC,MAAM,UAAU,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;YACpD,MAAM,SAAS,gBAAgB,YAAY;YAC3C,sBAAsB;gBAAC;aAAO;YAC9B,YAAY;gBACV;oBACE,OAAO;oBACP,UAAU;gBACZ;aACD;YACD,aAAa,GAAG,QAAQ,GAAG,CAAC,mBAAmB,IAAI,wBAAwB,oBAAoB,EAAE,MAAM;YACvG,YAAY,GAAG,QAAQ,GAAG,CAAC,mBAAmB,IAAI,wBAAwB,eAAe,CAAC;YAC1F,qBAAqB;YACrB,UAAU;gBACR;gBACA;YACF;QACF;QAEA,OAAO,mLAAY,CAAC,IAAI,CAAC;YACvB,WAAW,QAAQ,EAAE;YACrB,KAAK,QAAQ,GAAG;QAClB;IAEF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,iBAAiB;QAC/B,OAAO,mLAAY,CAAC,IAAI,CACtB;YAAE,OAAO,MAAM,OAAO,IAAI;QAAuB,GACjD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}