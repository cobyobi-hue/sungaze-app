module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},85791,(a,b,c)=>{"use strict";b.exports=a.r(18622)},81907,(a,b,c)=>{"use strict";b.exports=a.r(85791).vendored["react-ssr"].ReactJsxRuntime},99281,(a,b,c)=>{"use strict";b.exports=a.r(85791).vendored["react-ssr"].React},95371,(a,b,c)=>{"use strict";b.exports=a.r(85791).vendored["react-ssr"].ReactDOM},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},28034,a=>{"use strict";a.s(["default",()=>g],28034);var b=a.i(99281);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g}},23246,a=>{"use strict";a.s(["Button",()=>c]);var b=a.i(81907);let c=a.i(99281).forwardRef(({className:a="",...c},d)=>(0,b.jsx)("button",{className:`inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 ${a}`,ref:d,...c}));c.displayName="Button"},9178,68033,a=>{"use strict";a.s(["Eye",()=>c],9178);var b=a.i(28034);let c=(0,b.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["EyeOff",()=>d],68033);let d=(0,b.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},12306,a=>{"use strict";a.s(["Lock",()=>b],12306);let b=(0,a.i(28034).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},64871,a=>{"use strict";a.s(["subscriptionService",()=>d]);var b=a.i(11383);class c{supabase=(0,b.createClient)();mockData=new Map;founderSlots={sold:0,remaining:444,lastUpdated:new Date().toISOString()};constructor(){console.log("SubscriptionService: Constructor called"),console.log("SubscriptionService: Supabase client available:",!!this.supabase),console.log("SubscriptionService: Initializing mock data for fallback"),this.initializeMockData(),this.supabase?console.log("SubscriptionService: Supabase configured, will use real database with mock fallback"):console.log("SubscriptionService: Using mock data mode only")}initializeMockData(){console.log("SubscriptionService: Initializing mock data");let a=new Date;a.setFullYear(a.getFullYear()+3);let b={id:"test-user-1",email:"test@sungaze.com",tier:"founder_444",founderNumber:1,founderRegion:"us",badges:["First Witness of the Flame","Solar Pioneer"],seals:["Dawn Keeper","Light Bearer"],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),purchaseDate:new Date().toISOString(),expirationDate:a.toISOString(),subscriptionStatus:"active"},c={...b,id:"cobyobi@gmail.com",email:"cobyobi@gmail.com"};this.mockData.set("test-user-1",b),this.mockData.set("cobyobi@gmail.com",c),this.founderSlots.sold=37,this.founderSlots.remaining=407,console.log("SubscriptionService: Mock data initialized:",b)}async getUserProfile(a){if(console.log("SubscriptionService: Getting profile for userId:",a),console.log("SubscriptionService: Supabase client available:",!!this.supabase),"test-user-1"===a||"cobyobi@gmail.com"===a){console.log("SubscriptionService: Using mock data mode for development");let b=this.mockData.get(a)||null;return console.log("SubscriptionService: Mock profile found:",b),b}if(!this.supabase){console.log("SubscriptionService: Using mock data mode");let b=this.mockData.get(a)||null;return console.log("SubscriptionService: Mock profile found:",b),b}try{console.log("SubscriptionService: Querying Supabase for user profile");let{data:b,error:c}=await this.supabase.from("user_profiles").select("*").eq("id",a).single();if(c)return console.error("SubscriptionService: Error fetching user profile:",{message:c.message||"Unknown error",code:c.code||"unknown",details:c.details||"No details available",hint:c.hint||"No hint available"}),console.log("SubscriptionService: Falling back to mock data"),this.mockData.get(a)||null;if(!b)return console.log("SubscriptionService: No profile found in Supabase, falling back to mock data"),this.mockData.get(a)||null;return console.log("SubscriptionService: Supabase profile found:",b),b}catch(b){return console.error("SubscriptionService: Error in getUserProfile:",b),console.log("SubscriptionService: Falling back to mock data due to error"),this.mockData.get(a)||null}}async createUserProfile(a){let b={id:a.id||crypto.randomUUID(),email:a.email||"",tier:a.tier||"free",badges:a.badges||[],seals:a.seals||[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...a};if(!this.supabase)return this.mockData.set(b.id,b),b;try{let{data:a,error:c}=await this.supabase.from("user_profiles").insert([b]).select().single();if(c)throw console.error("Error creating user profile:",c),c;return a}catch(a){throw console.error("Error in createUserProfile:",a),a}}async updateUserTier(a,b,c){try{let d={tier:b,updatedAt:new Date().toISOString(),...c};if("founder_444"===b){let{data:b}=await this.supabase.from("user_profiles").select("badges").eq("id",a).single();if(b){let a=b.badges||[];d.badges=[...new Set([...a,"First Witness of the Flame"])]}}let{data:e,error:f}=await this.supabase.from("user_profiles").update(d).eq("id",a).select().single();if(f)return console.error("Error updating user tier:",f),null;return e}catch(a){return console.error("Error in updateUserTier:",a),null}}async purchaseFounderSlot(a){try{let{data:b,error:c}=await this.supabase.from("founder_slots").select("*").single();if(c||!b)return{success:!1,error:"Failed to check founder slots"};if(b.remaining<=0)return{success:!1,error:"All 444 Founder passes have been claimed worldwide"};let{data:d,error:e}=await this.supabase.from("founder_slots").update({sold:b.sold+1,remaining:b.remaining-1,lastUpdated:new Date().toISOString()}).eq("id",b.id).select().single();if(e)return{success:!1,error:"Failed to reserve founder slot"};let f=d.sold,g=new Date;g.setFullYear(g.getFullYear()+3);let{data:h}=await this.supabase.from("user_profiles").select("badges").eq("id",a).single(),i=h?.badges||[],{error:j}=await this.supabase.from("user_profiles").update({tier:"founder_444",founderNumber:f,purchaseDate:new Date().toISOString(),expirationDate:g.toISOString(),badges:[...new Set([...i,"First Witness of the Flame","Solar Pioneer"])],updatedAt:new Date().toISOString()}).eq("id",a);if(j)return console.error("Error updating user profile:",j),{success:!1,error:"Failed to update user profile"};return{success:!0,founderNumber:f}}catch(a){return console.error("Error in purchaseFounderSlot:",a),{success:!1,error:"An unexpected error occurred"}}}async getFounderSlots(){if(!this.supabase)return{...this.founderSlots};try{let{data:a,error:b}=await this.supabase.from("founder_slots").select("*").single();if(b||!a)return console.error("Error fetching founder slots:",b),{sold:0,remaining:444,lastUpdated:new Date().toISOString()};return a}catch(a){return console.error("Error in getFounderSlots:",a),{sold:0,remaining:444,lastUpdated:new Date().toISOString()}}}async hasFounderAccess(a){if(!this.supabase){let b=this.mockData.get(a);return!!b&&"founder_444"===b.tier&&(!b.expirationDate||new Date(b.expirationDate)>new Date)}try{let{data:b,error:c}=await this.supabase.from("user_profiles").select("tier, expirationDate").eq("id",a).single();if(c||!b||"founder_444"!==b.tier)return!1;if(b.expirationDate)return new Date(b.expirationDate)>new Date;return!0}catch(a){return console.error("Error in hasFounderAccess:",a),!1}}async canAccessFeature(a,b){if(!this.supabase){let c=this.mockData.get(a);if(!c)return!1;if("founder_444"===c.tier)return await this.hasFounderAccess(a);let d={free:0,monthly:1,yearly:2,founder_444:3};return d[c.tier]>=d[b]}try{let{data:c,error:d}=await this.supabase.from("user_profiles").select("tier, expirationDate").eq("id",a).single();if(d||!c)return!1;if("founder_444"===c.tier)return await this.hasFounderAccess(a);let e={free:0,monthly:1,yearly:2,founder_444:3},f=e[c.tier],g=e[b];return f>=g}catch(a){return console.error("Error in canAccessFeature:",a),!1}}async getUserStats(a){if(!this.supabase){let b,c=this.mockData.get(a);if(!c)return null;if(c.expirationDate){let a=new Date(c.expirationDate),d=new Date;b=Math.ceil((a.getTime()-d.getTime())/864e5)}return{tier:c.tier,badges:c.badges||[],seals:c.seals||[],founderNumber:c.founderNumber,daysRemaining:b}}try{let b,{data:c,error:d}=await this.supabase.from("user_profiles").select("tier, badges, seals, founderNumber, expirationDate").eq("id",a).single();if(d||!c)return null;if(c.expirationDate){let a=new Date(c.expirationDate),d=new Date,e=a.getTime()-d.getTime();b=Math.ceil(e/864e5)}return{tier:c.tier,badges:c.badges||[],seals:c.seals||[],founderNumber:c.founderNumber,daysRemaining:b}}catch(a){return console.error("Error in getUserStats:",a),null}}async initializeDatabase(){if(!this.supabase)return void console.log("Supabase not configured, using mock data mode");try{let{data:a,error:b}=await this.supabase.from("founder_slots").select("*").single();(b||!a)&&await this.supabase.from("founder_slots").insert([{sold:0,remaining:444,lastUpdated:new Date().toISOString()}])}catch(a){console.error("Error initializing database:",a)}}}let d=new c},90764,a=>{"use strict";a.s(["CheckCircle",()=>b],90764);let b=(0,a.i(28034).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},79962,a=>{"use strict";a.s(["Save",()=>b],79962);let b=(0,a.i(28034).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},83042,a=>{"use strict";a.s(["ArrowLeft",()=>b],83042);let b=(0,a.i(28034).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},14195,a=>{"use strict";a.s(["CreditCard",()=>b],14195);let b=(0,a.i(28034).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},80371,10239,a=>{"use strict";a.s(["Play",()=>c],80371);var b=a.i(28034);let c=(0,b.default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);a.s(["Pause",()=>d],10239);let d=(0,b.default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},51013,a=>{"use strict";a.s(["Upload",()=>b],51013);let b=(0,a.i(28034).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]])},34163,a=>{"use strict";a.s(["Check",()=>b],34163);let b=(0,a.i(28034).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},86160,a=>{"use strict";a.s(["Shield",()=>b],86160);let b=(0,a.i(28034).default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},19828,a=>{"use strict";a.s(["Trash2",()=>b],19828);let b=(0,a.i(28034).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},22463,a=>{"use strict";a.s(["Plus",()=>b],22463);let b=(0,a.i(28034).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},16691,a=>{a.v(a=>Promise.resolve().then(()=>a(87571)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f514883b._.js.map